<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ordenar.me</title>
    <script src="https://unpkg.com/@rive-app/canvas@latest"></script>
</head>
<body>
    <canvas id="riveCanvas"></canvas>
    <style>
      body {
        margin: 0;
        padding: 0;
        background-color: #000;
      }
      
      #riveCanvas {
        width: 100%;
        height: auto;
        max-width: 500px;
        margin: 0 auto;
        touch-action: pan-y;
        -webkit-touch-action: pan-y;
        user-select: none;
        -webkit-user-select: none;
        -webkit-tap-highlight-color: transparent;
        display: block;
      }
    </style>
    <script>
      const canvas = document.getElementById('riveCanvas');
      
      function updateCanvasSize() {
        const pixelRatio = window.devicePixelRatio || 1;
        const currentWidth = Math.min(window.innerWidth, 500);
        const scaledHeight = (currentWidth * 1500) / 430;
        
        canvas.width = currentWidth * pixelRatio;
        canvas.height = scaledHeight * pixelRatio;
        
        canvas.style.width = `${currentWidth}px`;
        canvas.style.height = `${scaledHeight}px`;
      }

      updateCanvasSize();

      const riveInstance = new rive.Rive({
        src: 'o-duo.riv',
        canvas: canvas,
        autoplay: true,
        stateMachines: 'State Machine 1',
        layout: new rive.Layout({
          fit: rive.Fit.Contain,
          alignment: rive.Alignment.Center
        }),
        onLoad: () => {
          console.log('Rive cargado');
        }
      });

      // Escuchar eventos de Rive
      riveInstance.on('riveEvent', (event) => {
        console.log('Evento Rive:', event);
        
        if (event.data && event.data.name === 'EventOrdenarme') {
          console.log('EventOrdenarme detectado');
          window.open('https://ordenarme.outgrow.us/Personalidad-Financiera', '_blank');
        }
      });

      window.addEventListener('resize', updateCanvasSize);
    </script>
</body>
</html>
